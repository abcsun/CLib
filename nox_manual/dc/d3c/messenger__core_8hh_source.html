<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>NOX_demo: src/nox/coreapps/messenger/messenger_core.hh Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NOX_demo
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dc/d3c/messenger__core_8hh_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">messenger_core.hh</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef MESSENGER_CORE_HH__</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define MESSENGER_CORE_HH__</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#define MESSENGER_BYTE_DUMP false</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#define MESSENGER_BUFFER_SIZE 512</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#define MESSENGER_MAX_MSG_SIZE 3072</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#define MESSENGER_MAX_CONNECTION 10</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;component.hh&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;ssl-socket.hh&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;tcp-socket.hh&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;threads/cooperative.hh&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;sys/time.h&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;boost/bind.hpp&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;boost/shared_array.hpp&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">namespace </span>vigil</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;{</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  <span class="keyword">using namespace </span>vigil::container; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="../../dc/d68/classvigil_1_1Msg__stream.html">   39</a></span>&#160;  <span class="keyword">class </span><a class="code" href="../../dc/d68/classvigil_1_1Msg__stream.html">Msg_stream</a></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="../../dc/d68/classvigil_1_1Msg__stream.html">Msg_stream</a>(<a class="code" href="../../df/de9/classvigil_1_1Async__stream.html">Async_stream</a>* stream_);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="../../dc/d68/classvigil_1_1Msg__stream.html">Msg_stream</a>(<a class="code" href="../../dc/d68/classvigil_1_1Msg__stream.html">Msg_stream</a>&amp; stream_);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="../../dc/d68/classvigil_1_1Msg__stream.html">Msg_stream</a>(<a class="code" href="../../df/de9/classvigil_1_1Async__stream.html">Async_stream</a>* stream_, <span class="keywordtype">bool</span> isSSL_);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="../../dc/d68/classvigil_1_1Msg__stream.html#ab0df6b6c1f1278cc0006a54b50b5f1c1">   60</a></span>&#160;    <a class="code" href="../../dc/d68/classvigil_1_1Msg__stream.html#ab0df6b6c1f1278cc0006a54b50b5f1c1">~Msg_stream</a>()</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    { ; }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordtype">void</span> init(boost::shared_array&lt;uint8_t&gt;&amp; msg_raw, </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;             ssize_t size) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordtype">void</span> init(boost::shared_array&lt;uint8_t&gt;&amp; msg_raw, <span class="keyword">const</span> <span class="keywordtype">char</span>* str, </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;             ssize_t size=0, <span class="keywordtype">bool</span> addbraces=<span class="keyword">true</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordtype">void</span> send(boost::shared_array&lt;uint8_t&gt;&amp; msg, </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;             ssize_t size=0) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordtype">void</span> send(<span class="keyword">const</span> std::string&amp; str) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="../../dc/d68/classvigil_1_1Msg__stream.html#a23971c3e2b5b56b8d77bb3b771470371">   93</a></span>&#160;    <a class="code" href="../../df/de9/classvigil_1_1Async__stream.html">Async_stream</a>* <a class="code" href="../../dc/d68/classvigil_1_1Msg__stream.html#a23971c3e2b5b56b8d77bb3b771470371">stream</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="../../dc/d68/classvigil_1_1Msg__stream.html#a173085f31eff9a86a1d6c6dbfc794734">   96</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../dc/d68/classvigil_1_1Msg__stream.html#a173085f31eff9a86a1d6c6dbfc794734">isSSL</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="../../dc/d68/classvigil_1_1Msg__stream.html#ab5a342506280048f7460ef5d45291b79">   99</a></span>&#160;    <span class="keywordtype">void</span>* <a class="code" href="../../dc/d68/classvigil_1_1Msg__stream.html#ab5a342506280048f7460ef5d45291b79">magic</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  };</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="../../db/d1b/structvigil_1_1core__message.html">  110</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="../../db/d1b/structvigil_1_1core__message.html">core_message</a></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <a class="code" href="../../db/d1b/structvigil_1_1core__message.html">core_message</a>(uint8_t* message, <a class="code" href="../../dc/d68/classvigil_1_1Msg__stream.html">Msg_stream</a>* socket, ssize_t size);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="../../db/d1b/structvigil_1_1core__message.html">core_message</a>(<a class="code" href="../../dc/d68/classvigil_1_1Msg__stream.html">Msg_stream</a>* socket);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    ~<a class="code" href="../../db/d1b/structvigil_1_1core__message.html">core_message</a>();</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordtype">void</span> dumpBytes();</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="../../db/d1b/structvigil_1_1core__message.html#a162aba97c0dced25f85f935095c9d142">  136</a></span>&#160;    ssize_t <a class="code" href="../../db/d1b/structvigil_1_1core__message.html#a162aba97c0dced25f85f935095c9d142">len</a>;</div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="../../db/d1b/structvigil_1_1core__message.html#a5d71213ec5b4b560c90b2aa4b0969052">  139</a></span>&#160;    boost::shared_array&lt;uint8_t&gt; <a class="code" href="../../db/d1b/structvigil_1_1core__message.html#a5d71213ec5b4b560c90b2aa4b0969052">raw_msg</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="../../db/d1b/structvigil_1_1core__message.html#a9759f11cb632047baadb750b3cd069c2">  142</a></span>&#160;    <a class="code" href="../../dc/d68/classvigil_1_1Msg__stream.html">Msg_stream</a>* <a class="code" href="../../db/d1b/structvigil_1_1core__message.html#a9759f11cb632047baadb750b3cd069c2">sock</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  };   </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  </div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="../../d2/d25/classvigil_1_1message__processor.html">  155</a></span>&#160;  <span class="keyword">class </span><a class="code" href="../../d2/d25/classvigil_1_1message__processor.html">message_processor</a>: <span class="keyword">public</span> <a class="code" href="../../d0/dc4/classvigil_1_1container_1_1Component.html">Component</a></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="../../d2/d25/classvigil_1_1message__processor.html#ae719566b2a1dfab0284d42f678301005">  160</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="../../d2/d25/classvigil_1_1message__processor.html#ae719566b2a1dfab0284d42f678301005">message_code</a></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      msg_code_normal,</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      msg_code_new_connection,</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      msg_code_disconnection,</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    };</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="../../d2/d25/classvigil_1_1message__processor.html#a638455ee097ea7d4f8122a89a7d3e184">  171</a></span>&#160;    <a class="code" href="../../d2/d25/classvigil_1_1message__processor.html#a638455ee097ea7d4f8122a89a7d3e184">message_processor</a>(<span class="keyword">const</span> <a class="code" href="../../d5/df8/classvigil_1_1container_1_1Context.html">Context</a>* c, <span class="keyword">const</span> <a class="code" href="../../d3/d46/classvigil_1_1json__object.html">json_object</a>* node): </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <a class="code" href="../../d0/dc4/classvigil_1_1container_1_1Component.html">Component</a>(c)</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    { };</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="../../d2/d25/classvigil_1_1message__processor.html#acfbca50eb1337db7ece9466882b77ffc">  183</a></span>&#160;    <span class="keyword">virtual</span> ssize_t <a class="code" href="../../d2/d25/classvigil_1_1message__processor.html#acfbca50eb1337db7ece9466882b77ffc">processBlock</a>(uint8_t* buf, ssize_t&amp; dataSize,</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                 uint8_t* data, ssize_t currSize, </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                 <a class="code" href="../../dc/d68/classvigil_1_1Msg__stream.html">Msg_stream</a>* sock)</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    { <span class="keywordflow">return</span> 0; };</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="../../d2/d25/classvigil_1_1message__processor.html#a37066a8a87a9a5c4f322aa69c5c7c10a">  194</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d2/d25/classvigil_1_1message__processor.html#a37066a8a87a9a5c4f322aa69c5c7c10a">msg_complete</a>(uint8_t* data, ssize_t currSize,</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                  <a class="code" href="../../dc/d68/classvigil_1_1Msg__stream.html">Msg_stream</a>* sock)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    { <span class="keywordflow">return</span> <span class="keyword">false</span>; };</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="../../d2/d25/classvigil_1_1message__processor.html#a7681fd1dbe0e412d2a44961932f73db6">  204</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d2/d25/classvigil_1_1message__processor.html#a7681fd1dbe0e412d2a44961932f73db6">process</a>(<span class="keyword">const</span> <a class="code" href="../../db/d1b/structvigil_1_1core__message.html">core_message</a>* msg, <span class="keywordtype">int</span> code=0)</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    {};</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="../../d2/d25/classvigil_1_1message__processor.html#ae0c6d55dc171f499dfe1c5103bfd3865">  210</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d2/d25/classvigil_1_1message__processor.html#ae0c6d55dc171f499dfe1c5103bfd3865">send_echo</a>(<a class="code" href="../../dc/d68/classvigil_1_1Msg__stream.html">Msg_stream</a>* sock)</div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="../../d2/d25/classvigil_1_1message__processor.html#a7f6113614d480a110f0894308ef9282f">  211</a></span>&#160;    {};</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    uint16_t idleInterval;</div>
<div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="../../d2/d25/classvigil_1_1message__processor.html#ae3c61b3453a6706f000880431904baff">  219</a></span>&#160;    uint8_t <a class="code" href="../../d2/d25/classvigil_1_1message__processor.html#ae3c61b3453a6706f000880431904baff">thresholdEchoMissed</a>;</div>
<div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="../../d2/d25/classvigil_1_1message__processor.html#af399c0ff1b0dc20f0b105dc4af9720e9">  222</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d2/d25/classvigil_1_1message__processor.html#af399c0ff1b0dc20f0b105dc4af9720e9">newConnectionMsg</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  };</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="../../de/daa/classvigil_1_1messenger__core.html">  241</a></span>&#160;  <span class="keyword">class </span><a class="code" href="../../de/daa/classvigil_1_1messenger__core.html">messenger_core</a> : <span class="keyword">public</span> <a class="code" href="../../d0/dc4/classvigil_1_1container_1_1Component.html">Component</a></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="../../de/daa/classvigil_1_1messenger__core.html#ab19efd61268784620a3a21f20c547a66">  249</a></span>&#160;    <a class="code" href="../../de/daa/classvigil_1_1messenger__core.html#ab19efd61268784620a3a21f20c547a66">messenger_core</a>(<span class="keyword">const</span> <a class="code" href="../../d5/df8/classvigil_1_1container_1_1Context.html">Context</a>* c, <span class="keyword">const</span> <a class="code" href="../../d3/d46/classvigil_1_1json__object.html">json_object</a>* node): </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <a class="code" href="../../d0/dc4/classvigil_1_1container_1_1Component.html">Component</a>(c)</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    { };</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="../../de/daa/classvigil_1_1messenger__core.html#a5defdee83858abf6400b0e93e49d0e91">  256</a></span>&#160;    <span class="keyword">virtual</span> <a class="code" href="../../de/daa/classvigil_1_1messenger__core.html#a5defdee83858abf6400b0e93e49d0e91">~messenger_core</a>() </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    { };</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordtype">void</span> configure(<span class="keyword">const</span> <a class="code" href="../../de/db3/classvigil_1_1container_1_1Configuration.html">Configuration</a>* config);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="../../de/daa/classvigil_1_1messenger__core.html#aa400a867c5cddb60df313aba11524fc1">  267</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../de/daa/classvigil_1_1messenger__core.html#aa400a867c5cddb60df313aba11524fc1">install</a>()</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    { };</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordtype">void</span> start_tcp(<a class="code" href="../../d2/d25/classvigil_1_1message__processor.html">message_processor</a>* <a class="code" href="../../d3/d0f/classvigil_1_1messenger.html">messenger</a>, uint16_t portNo);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordtype">void</span> start_ssl(<a class="code" href="../../d2/d25/classvigil_1_1message__processor.html">message_processor</a>* <a class="code" href="../../d3/d0f/classvigil_1_1messenger.html">messenger</a>, uint16_t portNo, </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;           boost::shared_ptr&lt;Ssl_config&gt;&amp; config);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> getInstance(<span class="keyword">const</span> <a class="code" href="../../d5/df8/classvigil_1_1container_1_1Context.html">container::Context</a>* ctxt, </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                <a class="code" href="../../de/daa/classvigil_1_1messenger__core.html">vigil::messenger_core</a>*&amp; scpa);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  }; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div>
<div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="../../df/dad/classvigil_1_1messenger__server.html">  303</a></span>&#160;  <span class="keyword">class </span><a class="code" href="../../df/dad/classvigil_1_1messenger__server.html">messenger_server</a>: <a class="code" href="../../d6/d3a/classvigil_1_1Co__thread.html">Co_thread</a></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <a class="code" href="../../df/dad/classvigil_1_1messenger__server.html">messenger_server</a>(<a class="code" href="../../d2/d25/classvigil_1_1message__processor.html">message_processor</a>* <a class="code" href="../../d3/d0f/classvigil_1_1messenger.html">messenger</a>, uint16_t portNo);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    ~<a class="code" href="../../df/dad/classvigil_1_1messenger__server.html">messenger_server</a>();</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordtype">void</span> run();</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="../../d0/de9/classvigil_1_1Tcp__socket.html">Tcp_socket</a> server_sock;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="../../d2/d25/classvigil_1_1message__processor.html">message_processor</a>* msger;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  };</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div>
<div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="../../d5/d6e/classvigil_1_1messenger__ssl__server.html">  337</a></span>&#160;  <span class="keyword">class </span><a class="code" href="../../d5/d6e/classvigil_1_1messenger__ssl__server.html">messenger_ssl_server</a>: <a class="code" href="../../d6/d3a/classvigil_1_1Co__thread.html">Co_thread</a></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="../../d5/d6e/classvigil_1_1messenger__ssl__server.html">messenger_ssl_server</a>(<a class="code" href="../../d2/d25/classvigil_1_1message__processor.html">message_processor</a>* <a class="code" href="../../d3/d0f/classvigil_1_1messenger.html">messenger</a>, uint16_t portNo,</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;             boost::shared_ptr&lt;Ssl_config&gt;&amp; config);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    ~<a class="code" href="../../d5/d6e/classvigil_1_1messenger__ssl__server.html">messenger_ssl_server</a>();</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordtype">void</span> run();</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="../../d2/d84/classvigil_1_1Ssl__socket.html">Ssl_socket</a> server_sock;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="../../d2/d25/classvigil_1_1message__processor.html">message_processor</a>* msger;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  };</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="../../d3/dd2/classvigil_1_1messenger__connection.html">  372</a></span>&#160;  <span class="keyword">class </span><a class="code" href="../../d3/dd2/classvigil_1_1messenger__connection.html">messenger_connection</a></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="../../d3/dd2/classvigil_1_1messenger__connection.html">messenger_connection</a>(<a class="code" href="../../d2/d25/classvigil_1_1message__processor.html">message_processor</a>* <a class="code" href="../../d3/d0f/classvigil_1_1messenger.html">messenger</a>);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordtype">void</span> processBlock(<a class="code" href="../../df/d59/classvigil_1_1Array__buffer.html">Array_buffer</a>&amp; buf, ssize_t&amp; dataSize, <a class="code" href="../../dc/d68/classvigil_1_1Msg__stream.html">Msg_stream</a>* sock);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordtype">void</span> process(<span class="keyword">const</span> <a class="code" href="../../db/d1b/structvigil_1_1core__message.html">core_message</a>* msg, <span class="keywordtype">int</span> code=0);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordtype">void</span> post_disconnect(<a class="code" href="../../dc/d68/classvigil_1_1Msg__stream.html">Msg_stream</a>* sock);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordtype">void</span> check_idle();</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordtype">void</span> send_new_connection_msg(<a class="code" href="../../dc/d68/classvigil_1_1Msg__stream.html">Msg_stream</a>* sock);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="../../d3/dd2/classvigil_1_1messenger__connection.html#aafdf1645390f30141a538cee96c2b5e8">  411</a></span>&#160;    uint8_t internalrecvbuf[MESSENGER_MAX_MSG_SIZE];</div>
<div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="../../d3/dd2/classvigil_1_1messenger__connection.html#ada0f06b80fcd5d32d9a3ee8d76f1070c">  415</a></span>&#160;    uint8_t* <a class="code" href="../../d3/dd2/classvigil_1_1messenger__connection.html#ada0f06b80fcd5d32d9a3ee8d76f1070c">endpointer</a>;</div>
<div class="line"><a name="l00418"></a><span class="lineno"><a class="line" href="../../d3/dd2/classvigil_1_1messenger__connection.html#a7c5eb49176d621f118d4e6d39290d9d5">  418</a></span>&#160;    ssize_t <a class="code" href="../../d3/dd2/classvigil_1_1messenger__connection.html#a7c5eb49176d621f118d4e6d39290d9d5">currSize</a>;</div>
<div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="../../d3/dd2/classvigil_1_1messenger__connection.html#aa262ca835fe0a6c8872052e967e719a4">  421</a></span>&#160;    <a class="code" href="../../d2/d25/classvigil_1_1message__processor.html">message_processor</a>* <a class="code" href="../../d3/dd2/classvigil_1_1messenger__connection.html#aa262ca835fe0a6c8872052e967e719a4">msger</a>;</div>
<div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="../../d3/dd2/classvigil_1_1messenger__connection.html#a3cbdae60bd0787699292bc91e7d76f04">  424</a></span>&#160;    <a class="code" href="../../dc/d68/classvigil_1_1Msg__stream.html">Msg_stream</a>* <a class="code" href="../../d3/dd2/classvigil_1_1messenger__connection.html#a3cbdae60bd0787699292bc91e7d76f04">msgstream</a>;</div>
<div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="../../d3/dd2/classvigil_1_1messenger__connection.html#a46824d3d5987e204b1c5d4d823395f31">  427</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d3/dd2/classvigil_1_1messenger__connection.html#a46824d3d5987e204b1c5d4d823395f31">running</a>;</div>
<div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="../../d3/dd2/classvigil_1_1messenger__connection.html#a77310b435057a4dd141d763387d10aed">  430</a></span>&#160;    time_t <a class="code" href="../../d3/dd2/classvigil_1_1messenger__connection.html#a77310b435057a4dd141d763387d10aed">lastActiveTime</a>;</div>
<div class="line"><a name="l00433"></a><span class="lineno"><a class="line" href="../../d3/dd2/classvigil_1_1messenger__connection.html#a6c26c4df00964c6ef0c6f81c32e9dd03">  433</a></span>&#160;    uint8_t <a class="code" href="../../d3/dd2/classvigil_1_1messenger__connection.html#a6c26c4df00964c6ef0c6f81c32e9dd03">echoMissed</a>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  };</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="../../d3/d2a/classvigil_1_1messenger__tcp__connection.html">  442</a></span>&#160;  <span class="keyword">class </span><a class="code" href="../../d3/d2a/classvigil_1_1messenger__tcp__connection.html">messenger_tcp_connection</a>: <a class="code" href="../../d3/dd2/classvigil_1_1messenger__connection.html">messenger_connection</a>, <a class="code" href="../../d6/d3a/classvigil_1_1Co__thread.html">Co_thread</a></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <a class="code" href="../../d3/d2a/classvigil_1_1messenger__tcp__connection.html">messenger_tcp_connection</a>(<a class="code" href="../../d2/d25/classvigil_1_1message__processor.html">message_processor</a>* <a class="code" href="../../d3/d0f/classvigil_1_1messenger.html">messenger</a>, </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                 std::auto_ptr&lt;Tcp_socket&gt; new_socket);</div>
<div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="../../d3/d2a/classvigil_1_1messenger__tcp__connection.html#a0a0b453ddc1fecb34d9ef5d78d4d1320">  454</a></span>&#160;    <a class="code" href="../../d3/d2a/classvigil_1_1messenger__tcp__connection.html#a0a0b453ddc1fecb34d9ef5d78d4d1320">~messenger_tcp_connection</a>()</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    { </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <span class="keyword">delete</span> msgstream; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordtype">void</span> run();</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    std::auto_ptr&lt;Tcp_socket&gt; sock;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  };</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div>
<div class="line"><a name="l00478"></a><span class="lineno"><a class="line" href="../../d8/d65/classvigil_1_1messenger__ssl__connection.html">  478</a></span>&#160;  <span class="keyword">class </span><a class="code" href="../../d8/d65/classvigil_1_1messenger__ssl__connection.html">messenger_ssl_connection</a>: <a class="code" href="../../d3/dd2/classvigil_1_1messenger__connection.html">messenger_connection</a>, <a class="code" href="../../d6/d3a/classvigil_1_1Co__thread.html">Co_thread</a></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <a class="code" href="../../d8/d65/classvigil_1_1messenger__ssl__connection.html">messenger_ssl_connection</a>(<a class="code" href="../../d2/d25/classvigil_1_1message__processor.html">message_processor</a>* <a class="code" href="../../d3/d0f/classvigil_1_1messenger.html">messenger</a>, </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                 std::auto_ptr&lt;Ssl_socket&gt; new_socket);</div>
<div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="../../d8/d65/classvigil_1_1messenger__ssl__connection.html#a5aca358307a74e4cf4e21810caf14b34">  490</a></span>&#160;    <a class="code" href="../../d8/d65/classvigil_1_1messenger__ssl__connection.html#a5aca358307a74e4cf4e21810caf14b34">~messenger_ssl_connection</a>()</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    { </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="keyword">delete</span> msgstream;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordtype">void</span> run();</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    std::auto_ptr&lt;Ssl_socket&gt; sock;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  };</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;} <span class="comment">// namespace vigil</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="preprocessor">#endif </span></div>
<div class="ttc" id="classvigil_1_1messenger__ssl__connection_html"><div class="ttname"><a href="../../d8/d65/classvigil_1_1messenger__ssl__connection.html">vigil::messenger_ssl_connection</a></div><div class="ttdoc">Class to handle a SSL connection from the messenger. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00478">messenger_core.hh:478</a></div></div>
<div class="ttc" id="classvigil_1_1Msg__stream_html_a173085f31eff9a86a1d6c6dbfc794734"><div class="ttname"><a href="../../dc/d68/classvigil_1_1Msg__stream.html#a173085f31eff9a86a1d6c6dbfc794734">vigil::Msg_stream::isSSL</a></div><div class="ttdeci">bool isSSL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00096">messenger_core.hh:96</a></div></div>
<div class="ttc" id="classvigil_1_1message__processor_html_ae0c6d55dc171f499dfe1c5103bfd3865"><div class="ttname"><a href="../../d2/d25/classvigil_1_1message__processor.html#ae0c6d55dc171f499dfe1c5103bfd3865">vigil::message_processor::send_echo</a></div><div class="ttdeci">virtual void send_echo(Msg_stream *sock)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00210">messenger_core.hh:210</a></div></div>
<div class="ttc" id="classvigil_1_1messenger__connection_html_ada0f06b80fcd5d32d9a3ee8d76f1070c"><div class="ttname"><a href="../../d3/dd2/classvigil_1_1messenger__connection.html#ada0f06b80fcd5d32d9a3ee8d76f1070c">vigil::messenger_connection::endpointer</a></div><div class="ttdeci">uint8_t * endpointer</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00415">messenger_core.hh:415</a></div></div>
<div class="ttc" id="classvigil_1_1messenger__connection_html_a7c5eb49176d621f118d4e6d39290d9d5"><div class="ttname"><a href="../../d3/dd2/classvigil_1_1messenger__connection.html#a7c5eb49176d621f118d4e6d39290d9d5">vigil::messenger_connection::currSize</a></div><div class="ttdeci">ssize_t currSize</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00418">messenger_core.hh:418</a></div></div>
<div class="ttc" id="classvigil_1_1Msg__stream_html_ab5a342506280048f7460ef5d45291b79"><div class="ttname"><a href="../../dc/d68/classvigil_1_1Msg__stream.html#ab5a342506280048f7460ef5d45291b79">vigil::Msg_stream::magic</a></div><div class="ttdeci">void * magic</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00099">messenger_core.hh:99</a></div></div>
<div class="ttc" id="structvigil_1_1core__message_html_a5d71213ec5b4b560c90b2aa4b0969052"><div class="ttname"><a href="../../db/d1b/structvigil_1_1core__message.html#a5d71213ec5b4b560c90b2aa4b0969052">vigil::core_message::raw_msg</a></div><div class="ttdeci">boost::shared_array&lt; uint8_t &gt; raw_msg</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00139">messenger_core.hh:139</a></div></div>
<div class="ttc" id="classvigil_1_1container_1_1Component_html"><div class="ttname"><a href="../../d0/dc4/classvigil_1_1container_1_1Component.html">vigil::container::Component</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/component_8hh_source.html#l00086">component.hh:86</a></div></div>
<div class="ttc" id="classvigil_1_1messenger__tcp__connection_html_a0a0b453ddc1fecb34d9ef5d78d4d1320"><div class="ttname"><a href="../../d3/d2a/classvigil_1_1messenger__tcp__connection.html#a0a0b453ddc1fecb34d9ef5d78d4d1320">vigil::messenger_tcp_connection::~messenger_tcp_connection</a></div><div class="ttdeci">~messenger_tcp_connection()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00454">messenger_core.hh:454</a></div></div>
<div class="ttc" id="classvigil_1_1messenger__connection_html_a6c26c4df00964c6ef0c6f81c32e9dd03"><div class="ttname"><a href="../../d3/dd2/classvigil_1_1messenger__connection.html#a6c26c4df00964c6ef0c6f81c32e9dd03">vigil::messenger_connection::echoMissed</a></div><div class="ttdeci">uint8_t echoMissed</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00433">messenger_core.hh:433</a></div></div>
<div class="ttc" id="classvigil_1_1message__processor_html_ae3c61b3453a6706f000880431904baff"><div class="ttname"><a href="../../d2/d25/classvigil_1_1message__processor.html#ae3c61b3453a6706f000880431904baff">vigil::message_processor::thresholdEchoMissed</a></div><div class="ttdeci">uint8_t thresholdEchoMissed</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00219">messenger_core.hh:219</a></div></div>
<div class="ttc" id="classvigil_1_1message__processor_html_a7681fd1dbe0e412d2a44961932f73db6"><div class="ttname"><a href="../../d2/d25/classvigil_1_1message__processor.html#a7681fd1dbe0e412d2a44961932f73db6">vigil::message_processor::process</a></div><div class="ttdeci">virtual void process(const core_message *msg, int code=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00204">messenger_core.hh:204</a></div></div>
<div class="ttc" id="classvigil_1_1messenger__server_html"><div class="ttname"><a href="../../df/dad/classvigil_1_1messenger__server.html">vigil::messenger_server</a></div><div class="ttdoc">Class to accept TCP connections to the messenger. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00303">messenger_core.hh:303</a></div></div>
<div class="ttc" id="classvigil_1_1Co__thread_html"><div class="ttname"><a href="../../d6/d3a/classvigil_1_1Co__thread.html">vigil::Co_thread</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/db9/cooperative_8hh_source.html#l00096">cooperative.hh:96</a></div></div>
<div class="ttc" id="structvigil_1_1core__message_html_a9759f11cb632047baadb750b3cd069c2"><div class="ttname"><a href="../../db/d1b/structvigil_1_1core__message.html#a9759f11cb632047baadb750b3cd069c2">vigil::core_message::sock</a></div><div class="ttdeci">Msg_stream * sock</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00142">messenger_core.hh:142</a></div></div>
<div class="ttc" id="classvigil_1_1messenger__connection_html"><div class="ttname"><a href="../../d3/dd2/classvigil_1_1messenger__connection.html">vigil::messenger_connection</a></div><div class="ttdoc">Class to handle a connection from the messenger. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00372">messenger_core.hh:372</a></div></div>
<div class="ttc" id="classvigil_1_1container_1_1Configuration_html"><div class="ttname"><a href="../../de/db3/classvigil_1_1container_1_1Configuration.html">vigil::container::Configuration</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/component_8hh_source.html#l00250">component.hh:250</a></div></div>
<div class="ttc" id="classvigil_1_1messenger__ssl__server_html"><div class="ttname"><a href="../../d5/d6e/classvigil_1_1messenger__ssl__server.html">vigil::messenger_ssl_server</a></div><div class="ttdoc">Class to accept SSL connections to the messenger. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00337">messenger_core.hh:337</a></div></div>
<div class="ttc" id="classvigil_1_1Msg__stream_html"><div class="ttname"><a href="../../dc/d68/classvigil_1_1Msg__stream.html">vigil::Msg_stream</a></div><div class="ttdoc">Async_stream for messenger. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00039">messenger_core.hh:39</a></div></div>
<div class="ttc" id="classvigil_1_1messenger__connection_html_a77310b435057a4dd141d763387d10aed"><div class="ttname"><a href="../../d3/dd2/classvigil_1_1messenger__connection.html#a77310b435057a4dd141d763387d10aed">vigil::messenger_connection::lastActiveTime</a></div><div class="ttdeci">time_t lastActiveTime</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00430">messenger_core.hh:430</a></div></div>
<div class="ttc" id="structvigil_1_1core__message_html_a162aba97c0dced25f85f935095c9d142"><div class="ttname"><a href="../../db/d1b/structvigil_1_1core__message.html#a162aba97c0dced25f85f935095c9d142">vigil::core_message::len</a></div><div class="ttdeci">ssize_t len</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00136">messenger_core.hh:136</a></div></div>
<div class="ttc" id="classvigil_1_1json__object_html"><div class="ttname"><a href="../../d3/d46/classvigil_1_1json__object.html">vigil::json_object</a></div><div class="ttdoc">JSON class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d17/json__object_8hh_source.html#l00029">json_object.hh:29</a></div></div>
<div class="ttc" id="classvigil_1_1Array__buffer_html"><div class="ttname"><a href="../../df/d59/classvigil_1_1Array__buffer.html">vigil::Array_buffer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d08/buffer_8hh_source.html#l00187">buffer.hh:187</a></div></div>
<div class="ttc" id="structvigil_1_1core__message_html"><div class="ttname"><a href="../../db/d1b/structvigil_1_1core__message.html">vigil::core_message</a></div><div class="ttdoc">Structure holding message to and from messenger_core. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00110">messenger_core.hh:110</a></div></div>
<div class="ttc" id="classvigil_1_1Ssl__socket_html"><div class="ttname"><a href="../../d2/d84/classvigil_1_1Ssl__socket.html">vigil::Ssl_socket</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da9/ssl-socket_8hh_source.html#l00040">ssl-socket.hh:40</a></div></div>
<div class="ttc" id="classvigil_1_1Tcp__socket_html"><div class="ttname"><a href="../../d0/de9/classvigil_1_1Tcp__socket.html">vigil::Tcp_socket</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d78/tcp-socket_8hh_source.html#l00027">tcp-socket.hh:27</a></div></div>
<div class="ttc" id="classvigil_1_1container_1_1Context_html"><div class="ttname"><a href="../../d5/df8/classvigil_1_1container_1_1Context.html">vigil::container::Context</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/component_8hh_source.html#l00208">component.hh:208</a></div></div>
<div class="ttc" id="classvigil_1_1messenger__connection_html_a3cbdae60bd0787699292bc91e7d76f04"><div class="ttname"><a href="../../d3/dd2/classvigil_1_1messenger__connection.html#a3cbdae60bd0787699292bc91e7d76f04">vigil::messenger_connection::msgstream</a></div><div class="ttdeci">Msg_stream * msgstream</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00424">messenger_core.hh:424</a></div></div>
<div class="ttc" id="classvigil_1_1messenger__core_html_ab19efd61268784620a3a21f20c547a66"><div class="ttname"><a href="../../de/daa/classvigil_1_1messenger__core.html#ab19efd61268784620a3a21f20c547a66">vigil::messenger_core::messenger_core</a></div><div class="ttdeci">messenger_core(const Context *c, const json_object *node)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00249">messenger_core.hh:249</a></div></div>
<div class="ttc" id="classvigil_1_1messenger__tcp__connection_html"><div class="ttname"><a href="../../d3/d2a/classvigil_1_1messenger__tcp__connection.html">vigil::messenger_tcp_connection</a></div><div class="ttdoc">Class to handle a TCP connection from the messenger. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00442">messenger_core.hh:442</a></div></div>
<div class="ttc" id="classvigil_1_1messenger__ssl__connection_html_a5aca358307a74e4cf4e21810caf14b34"><div class="ttname"><a href="../../d8/d65/classvigil_1_1messenger__ssl__connection.html#a5aca358307a74e4cf4e21810caf14b34">vigil::messenger_ssl_connection::~messenger_ssl_connection</a></div><div class="ttdeci">~messenger_ssl_connection()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00490">messenger_core.hh:490</a></div></div>
<div class="ttc" id="classvigil_1_1Msg__stream_html_a23971c3e2b5b56b8d77bb3b771470371"><div class="ttname"><a href="../../dc/d68/classvigil_1_1Msg__stream.html#a23971c3e2b5b56b8d77bb3b771470371">vigil::Msg_stream::stream</a></div><div class="ttdeci">Async_stream * stream</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00093">messenger_core.hh:93</a></div></div>
<div class="ttc" id="classvigil_1_1messenger_html"><div class="ttname"><a href="../../d3/d0f/classvigil_1_1messenger.html">vigil::messenger</a></div><div class="ttdoc">Class through which to interact with NOX. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/messenger_8hh_source.html#l00169">messenger.hh:169</a></div></div>
<div class="ttc" id="classvigil_1_1messenger__core_html"><div class="ttname"><a href="../../de/daa/classvigil_1_1messenger__core.html">vigil::messenger_core</a></div><div class="ttdoc">Core of message interaction with NOX. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00241">messenger_core.hh:241</a></div></div>
<div class="ttc" id="classvigil_1_1message__processor_html_af399c0ff1b0dc20f0b105dc4af9720e9"><div class="ttname"><a href="../../d2/d25/classvigil_1_1message__processor.html#af399c0ff1b0dc20f0b105dc4af9720e9">vigil::message_processor::newConnectionMsg</a></div><div class="ttdeci">bool newConnectionMsg</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00222">messenger_core.hh:222</a></div></div>
<div class="ttc" id="classvigil_1_1message__processor_html_acfbca50eb1337db7ece9466882b77ffc"><div class="ttname"><a href="../../d2/d25/classvigil_1_1message__processor.html#acfbca50eb1337db7ece9466882b77ffc">vigil::message_processor::processBlock</a></div><div class="ttdeci">virtual ssize_t processBlock(uint8_t *buf, ssize_t &amp;dataSize, uint8_t *data, ssize_t currSize, Msg_stream *sock)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00183">messenger_core.hh:183</a></div></div>
<div class="ttc" id="classvigil_1_1Msg__stream_html_ab0df6b6c1f1278cc0006a54b50b5f1c1"><div class="ttname"><a href="../../dc/d68/classvigil_1_1Msg__stream.html#ab0df6b6c1f1278cc0006a54b50b5f1c1">vigil::Msg_stream::~Msg_stream</a></div><div class="ttdeci">~Msg_stream()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00060">messenger_core.hh:60</a></div></div>
<div class="ttc" id="classvigil_1_1message__processor_html_ae719566b2a1dfab0284d42f678301005"><div class="ttname"><a href="../../d2/d25/classvigil_1_1message__processor.html#ae719566b2a1dfab0284d42f678301005">vigil::message_processor::message_code</a></div><div class="ttdeci">message_code</div><div class="ttdoc">Code for special event. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00160">messenger_core.hh:160</a></div></div>
<div class="ttc" id="classvigil_1_1messenger__core_html_aa400a867c5cddb60df313aba11524fc1"><div class="ttname"><a href="../../de/daa/classvigil_1_1messenger__core.html#aa400a867c5cddb60df313aba11524fc1">vigil::messenger_core::install</a></div><div class="ttdeci">void install()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00267">messenger_core.hh:267</a></div></div>
<div class="ttc" id="classvigil_1_1messenger__connection_html_aa262ca835fe0a6c8872052e967e719a4"><div class="ttname"><a href="../../d3/dd2/classvigil_1_1messenger__connection.html#aa262ca835fe0a6c8872052e967e719a4">vigil::messenger_connection::msger</a></div><div class="ttdeci">message_processor * msger</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00421">messenger_core.hh:421</a></div></div>
<div class="ttc" id="classvigil_1_1Async__stream_html"><div class="ttname"><a href="../../df/de9/classvigil_1_1Async__stream.html">vigil::Async_stream</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1c/async__io_8hh_source.html#l00037">async_io.hh:37</a></div></div>
<div class="ttc" id="classvigil_1_1message__processor_html_a638455ee097ea7d4f8122a89a7d3e184"><div class="ttname"><a href="../../d2/d25/classvigil_1_1message__processor.html#a638455ee097ea7d4f8122a89a7d3e184">vigil::message_processor::message_processor</a></div><div class="ttdeci">message_processor(const Context *c, const json_object *node)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00171">messenger_core.hh:171</a></div></div>
<div class="ttc" id="classvigil_1_1message__processor_html_a37066a8a87a9a5c4f322aa69c5c7c10a"><div class="ttname"><a href="../../d2/d25/classvigil_1_1message__processor.html#a37066a8a87a9a5c4f322aa69c5c7c10a">vigil::message_processor::msg_complete</a></div><div class="ttdeci">virtual bool msg_complete(uint8_t *data, ssize_t currSize, Msg_stream *sock)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00194">messenger_core.hh:194</a></div></div>
<div class="ttc" id="classvigil_1_1messenger__connection_html_a46824d3d5987e204b1c5d4d823395f31"><div class="ttname"><a href="../../d3/dd2/classvigil_1_1messenger__connection.html#a46824d3d5987e204b1c5d4d823395f31">vigil::messenger_connection::running</a></div><div class="ttdeci">bool running</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00427">messenger_core.hh:427</a></div></div>
<div class="ttc" id="classvigil_1_1message__processor_html"><div class="ttname"><a href="../../d2/d25/classvigil_1_1message__processor.html">vigil::message_processor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00155">messenger_core.hh:155</a></div></div>
<div class="ttc" id="classvigil_1_1messenger__core_html_a5defdee83858abf6400b0e93e49d0e91"><div class="ttname"><a href="../../de/daa/classvigil_1_1messenger__core.html#a5defdee83858abf6400b0e93e49d0e91">vigil::messenger_core::~messenger_core</a></div><div class="ttdeci">virtual ~messenger_core()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3c/messenger__core_8hh_source.html#l00256">messenger_core.hh:256</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_55bad5eab7c28d2cf012fb03ca24a4cd.html">nox</a></li><li class="navelem"><a class="el" href="../../dir_74ea4c9d8da3bfefd21b599a2a14212d.html">coreapps</a></li><li class="navelem"><a class="el" href="../../dir_9e70940503c971c9b4099044240cdb09.html">messenger</a></li><li class="navelem"><b>messenger_core.hh</b></li>
    <li class="footer">Generated on Tue Aug 6 2013 21:33:49 for NOX_demo by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
